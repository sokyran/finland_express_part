{"version":3,"sources":["services/persons.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newObject","post","id","put","delete","Person","person","handleDelete","key","name","number","value","onClick","Filter","search","onChange","PersonForm","newName","newNumber","handleAddButton","handleNameChange","handleNumberChange","onSubmit","type","Message","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setMessage","makeMessage","setTimeout","useEffect","personService","console","log","event","window","confirm","target","filter","personsToShow","toLowerCase","startsWith","preventDefault","samePerson","find","updatedPerson","map","catch","e","newPerson","length","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c664ed4.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((res) => res.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","/* eslint-disable eqeqeq */\r\nimport React, { useState, useEffect } from 'react';\r\nimport personService from '../services/persons';\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n  return (\r\n    <li key={person.id}>\r\n      {person.name} {person.number}{' '}\r\n      <button name={person.name} value={person.id} onClick={handleDelete}>\r\n        {' '}\r\n        delete{' '}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst Filter = ({ search, onChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={search} onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PersonForm = ({\r\n  newName,\r\n  newNumber,\r\n  handleAddButton,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleAddButton}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst Message = ({ message }) => {\r\n  if (!message) return null;\r\n\r\n  const messageStyle = {\r\n    color: 'blue',\r\n    background: 'white',\r\n    fontSize: 16,\r\n    borderStyle: 'solid',\r\n    borderRadius: 4,\r\n    padding: 8,\r\n    marginBottom: 8,\r\n  };\r\n\r\n  return <div style={messageStyle}>{message}</div>;\r\n};\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [search, setSearch] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const makeMessage = (message) => {\r\n    setMessage(message);\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 4000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((data) => {\r\n      console.log(data);\r\n      setPersons(data);\r\n    });\r\n  }, []);\r\n\r\n  const handleAddButton = (event) => {\r\n    event.preventDefault();\r\n\r\n    const samePerson = persons.find((person) => person.name === newName);\r\n    if (samePerson) {\r\n      const result = window.confirm(\r\n        `${newName} is already added to the phonebook, replace old number with the new one?`\r\n      );\r\n\r\n      if (result) {\r\n        const updatedPerson = {\r\n          ...samePerson,\r\n          number: newNumber,\r\n        };\r\n\r\n        personService\r\n          .update(samePerson.id, updatedPerson)\r\n          .then(() => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id == samePerson.id ? updatedPerson : person\r\n              )\r\n            );\r\n            makeMessage(`${newName} is updated`, 'success');\r\n          })\r\n          .catch((e) => {\r\n            makeMessage(`${newName} is already deleted from server`, 'error');\r\n          });\r\n      }\r\n    } else {\r\n      const newPerson = {\r\n        name: newName,\r\n        number: newNumber,\r\n        id: persons[persons.length - 1].id + 1,\r\n      };\r\n      personService.create(newPerson);\r\n      setPersons(persons.concat(newPerson));\r\n      makeMessage(`${newName} is added to phonebook`, 'success');\r\n    }\r\n    setNewName('');\r\n    setNewNumber('');\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  const handleDelete = (event) => {\r\n    const result = window.confirm(\r\n      `Are you sure you want to delete ${event.target.name}?`\r\n    );\r\n    if (result) {\r\n      const id = event.target.value;\r\n      personService.remove(id);\r\n      setPersons(persons.filter((person) => person.id != id));\r\n      console.log(persons);\r\n    }\r\n  };\r\n\r\n  const personsToShow = search\r\n    ? persons.filter((person) =>\r\n        person.name.toLowerCase().startsWith(search.toLowerCase())\r\n      )\r\n    : persons;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Message message={message} />\r\n      <Filter search={search} onChange={handleSearchChange} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleAddButton={handleAddButton}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {personsToShow.map((person) => (\r\n          <Person person={person} handleDelete={handleDelete} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}